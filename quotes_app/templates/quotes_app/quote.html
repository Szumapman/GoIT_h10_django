{% extends "quotes_app/base.html" %} 

{% block content %}
  <h1>Quote</h1>
  <form action="{% url 'quotes_app:new_quote' %}" method="post">
    {% csrf_token %}
    <div style="padding: 10px;">
        <label>Select author: 
            <select name="author" required>
                {% for author in authors %}
                    {% if author.name == quote_author.name %}
                      <option value="{{ author.name }}" selected>{{ author.name }}</option>
                    {% else %}
                     <option value="{{ author.name }}">{{ author.name }}</option>
                    {% endif %}
                {% endfor %}  
        </label>
        <span>{{ form.errors.author }}</span>
    </div>
    <div style="padding: 10px;">

    <div style="padding: 10px;">
        <label>Quote: 
            {{ form.quote }}
        </label>
        <span>{{ form.errors.quote }}</span>
    </div>

    <div style="padding: 10px;">
        <label>Select tags:
            <select name="tags" multiple="multiple" required>
                {% for tag in tags %}
                  {% if tag in selected_tags %}
                    <option value="{{ tag.name }}" selected>{{ tag.name }}</option>
                  {% else %}
                    <option value="{{ tag.name }}">{{ tag.name }}</option>
                  {% endif %}
                {% endfor %}
            </select>
            <span>{{ form.errors.tags }}</span>
        </label>
    </div>
    <div class="grid">
        <button type="submit">Add quote</button>
    </div>
</form>
{% endblock content %}
